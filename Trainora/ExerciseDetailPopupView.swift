////  ExerciseDetailPopupView.swift//  Trainora////  Created by user266021 on 5/1/25.//import SwiftUIimport AVKitstruct ExerciseDetailPopupView: View {    @ObservedObject var viewModel: ExerciseDetailViewModel    @Environment(\.dismiss) private var dismiss    private var player: AVPlayer? {        guard let url = viewModel.exercise.videoURL else { return nil }        return AVPlayer(url: url)    }    var body: some View {        NavigationStack {            ScrollView {                VStack(alignment: .leading, spacing: 16) {                    if let player = player {                        VideoPlayer(player: player)                            .frame(height: 240)                            .cornerRadius(12)                            .onAppear {                                player.play()                            }                    } else {                        Image(viewModel.exercise.imageName)                            .resizable()                            .scaledToFit()                            .frame(maxHeight: 240)                            .cornerRadius(12)                    }                    Text(viewModel.exercise.title)                        .font(.title2.bold())                    Text(viewModel.exercise.description)                        .font(.body)                    HStack {                        Label(viewModel.formattedDuration, systemImage: "clock")                        Spacer()                        Label(viewModel.formattedCalories, systemImage: "flame")                        Spacer()                        Label(viewModel.formattedReps, systemImage: "bolt.horizontal")                    }                    .font(.subheadline)                    .foregroundColor(.secondary)                }                .padding()            }            .navigationTitle("Exercise Details")            .navigationBarTitleDisplayMode(.inline)            .toolbar {                ToolbarItem(placement: .cancellationAction) {                    Button("Close") {                        dismiss()                    }                }            }        }    }}